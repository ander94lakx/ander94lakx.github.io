{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2022-02-13-spotify-data-top-songs/","result":{"data":{"site":{"siteMetadata":{"title":"Walk on the Byte Side","disqusShortname":""}},"markdownRemark":{"id":"e5335387-9c40-5edb-ad00-1c2981064557","html":"<p>Estoy con el scrapping muy pesado, lo sé. Esta vez es algo un poco diferente. No es web scrapping al uso, sino un pequeño ejemplo sobre cómo sacar información sobre los datos de uno mismo. Se pueden sacar cosas muy interesantes de los datos que generamos a diario. En mi caso, por ejemplo, uso Spotify a diario para escuchar música. No salgo de casa sin unos auriculares y en mi casa llevo los cascos hasta para cagar, asi que genero cierta información al usar Spotify.</p>\n<h2>Descargar tu información</h2>\n<p>Muchas aplicaciones dejan descargar a los propios usuarios la información que generan. Para los ciudadanos europeos debería decir que todas, ya que es un derecho que te otorga el <a href=\"https://support.spotify.com/es/article/gdpr-article-15-information/\">artículo 15</a> del RGPD de la Unión Europea. Esto hace que prácticamente todos los servicios online te dejen descargar una copia con tus datos, al menos en esta parte del globo.</p>\n<p>Eso es muy interesante ya que te permite sacar información que las aplicaciones y servicios tienen sobre tí pero que, de por si, no te dejan ver a través de sus interfaces. Por ejemplo, en el caso de Spotify, te deja descargar tus <a href=\"https://support.spotify.com/es/article/data-rights-and-privacy-settings/\">datos principales</a>, entre los que puedes ver, entre muchas cosas, el historial de reproducción de los últimos 365 días. Hya que matizar que, en el caso de Spotify, los datos que te otorgan con la herramienta que tienen para bajarte los datos no son completos, pero puedes pedir absolutamente todo <a href=\"mailto:privacy@spotify.com\">contactando directamente</a> con ellos.</p>\n<p>De esta manera, algo que no se puede ver desde la app de Spotify se puede hacer a través de los datos que te permiten descargar. Normalmente este tipo de datos suelen venir en algún tipo de formato como JSON o XML para poder ser tratados programáticamente. A veces, incluso dejan elegir entre formatos, como por ejemplo el caso de Instagram, en el que se puede bajar una version en HTML (muy útil si se quiere tener una copia como backup) o en JSON (si lo que se quiere es tratar esos datos de alguna manera).</p>\n<h2>Sacar lo más escuchado de la información de Spotify</h2>\n<p>Volviendo a Spotify, se pueden sacar muchísima información de esos datos. En mi caso, como prueba para comenzar a trastear con los datos, simplemente he programado un script para poder ver cuál es mi top de canciones y artistas más escuchados. Alguno podría pensar que esto ya te lo da Spotify en el ¨wrapped¨ que hace cada año o en alguna lista que genera. En parte es cierto, pero te lo da “a su manera”. Es decir, igual puedes saber tu Top 5 de artistas más escuchados, pero no el Top 10, ni saber cuántas veces has escuchado a ese artista, ni cuánto has escuchado a un artista que no está en el top, etc. El potencial de tener todos los datos en tu mano es que puedes <strong>sacar la información que quieras y como quieras</strong>.</p>\n<p>En este caso he probado con los datos básicos, que tienen información limitada. Si se pide la copia con toda la información, se pueden obtener muchos más datos. En la <a href=\"https://support.spotify.com/es/article/understanding-my-data/\">documentación</a> de Spotify se puede ver exactamente que datos te ofrece en ambos casos. Para el caso con los datos básicos, Spotify te da un zip con un puñado de archivos JSON.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/573c37da45efaa04df8fdecfb4bd30a6/432e7/spotify_data.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 131.64556962025318%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAB2HAAAdhwGP5fFlAAAChElEQVRIx5VVSXLiQBDkEWwGYRYDEptBoA1JLPZh7IuHB+CDI7gSXByOGOzH51SWBwLPwW4dilKDOsnqzKrO3dzc4O3tDdE8RpIkWK/XWK1WSBcLpEmKNI4xdV2USiVcXV39GLlKpYJOpwNmbjpFsVjU76rVqhHQGZAM398/MJ/PNZarOyzTFL4fwJvNFLBcLuvLp/wtIDd0u11Yki3LQq1Wk1xFs9lES8IU6AzIja+vr/CDEFEYwpXzmgmztjBn2acXTUFzZOT7PmrX1+i023KebTiOo2wLhUJ2htcC9PLygslkgkF/gPF4rID9fk9zFjAFrNfreHx8RK/Xw+3oVgGHw5Faxbbts12MS2ZpT0+/lU2j0QQZX0bmklutFrbbLUajEWIxchgGEiHm0RzTqSu2qWQDpHnpPwJzI9f8gZnrLB48G3u/3yMURsvlQtml6UJjOBgYt9wXhsPhUA39hcV/DI0B2+K9458j4jjB/f2dMEsRBIGcYaR/ktnY/GDZbMHL82OmsRmX1vkJWFU+Ho96hkkSS/tFqjYZR2Ggatt219iP6sN+v68MaXKWWW801INcN+S5LGBkaqJ4jhsOhwM86WfXnWAynsCVNuSA0LU8T6czFe5kpe+HgzCJRAACkylHGdvQsR1tvZ7Tw0DsQ/GMSmZpz8/P2sMEsLu2gjrO53CgYARjNgIks81mowC0i+tO4Xu+TGtPxxrnI0vmMRiVTFEefj3ovWJZNS1dhRFBOGDz+bwKwmwkCm2z2+2USaTWSZDEnzdgkwpf9LdRyXzZ8zxlVPp303HTZQ9nuqRO93JIQ5OZGHqxXApDMbeozzsny4DQ1iuVil86gSx5tln7mPEXSezQzZHUGtgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Datos de Spotify\"\n        title=\"Datos básicos proporcionados por Spotify\"\n        src=\"/static/573c37da45efaa04df8fdecfb4bd30a6/432e7/spotify_data.png\"\n        srcset=\"/static/573c37da45efaa04df8fdecfb4bd30a6/c26ae/spotify_data.png 158w,\n/static/573c37da45efaa04df8fdecfb4bd30a6/6bdcf/spotify_data.png 315w,\n/static/573c37da45efaa04df8fdecfb4bd30a6/432e7/spotify_data.png 570w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Entre los archivos que da Spotify, los que interesan para esta prueba son los que se llaman <code class=\"language-text\">StreamingHistory[x].json</code>. Estos archivos contienen el historial de reproducción. La información respecto a la canción es bastante limitada pero la justa para saber cual es. El archivo tiene un formato como el siguiente:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"endTime\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"2021-02-05 11:10\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"artistName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Hüsker Dü\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"trackName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Don't Want to Know If You Are Lonely\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msPlayed\"</span> <span class=\"token operator\">:</span> <span class=\"token number\">212426</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"endTime\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"2021-02-05 12:16\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"artistName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Queens of the Stone Age\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"trackName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Go With The Flow\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msPlayed\"</span> <span class=\"token operator\">:</span> <span class=\"token number\">4890</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"endTime\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"2021-02-05 12:23\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"artistName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Queens of the Stone Age\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"trackName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Go With The Flow\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msPlayed\"</span> <span class=\"token operator\">:</span> <span class=\"token number\">190646</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"endTime\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"2021-02-05 12:24\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"artistName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Queens of the Stone Age\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"trackName\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Make It Wit Chu\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msPlayed\"</span> <span class=\"token operator\">:</span> <span class=\"token number\">19403</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Y así hasta el infinito. Te da el timestamp, nombre de la canción y artista y el tiempo de reproducción. Esto último es interesante porque puedes poner un mínimo para considerar que la canción haya sido escuchada, por ejemplo. También se puede jugar con el timestamp para ver cuando has escuchado mas o menos música. Las posibilidades son amplias.</p>\n<p>Con esto, el script que he creado para sacar el top de canciones y artistas más escuchados es el siguiente:</p>\n<p><div id=\"gist114701988\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-spotify_top_songs_and_artists-py\" class=\"file my-2\">\n    \n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-python  \">\n\n      \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">  Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Python\" data-tagsearch-path=\"spotify_top_songs_and_artists.py\">\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>&quot;&quot;&quot;Spotify Top X Artists and Songs</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>This script takes data from StreamingHistory[x].json files exported from Spotify</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>and gives the most listened songs and artists based on that data</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>Args:</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>    top (int): The length of the most listened artists and songs</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>        (default is 10)</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC9\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>&quot;&quot;&quot;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>from</span> <span class=pl-s1>distutils</span>.<span class=pl-s1>log</span> <span class=pl-k>import</span> <span class=pl-s1>error</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>import</span> <span class=pl-s1>json</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>import</span> <span class=pl-s1>os</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC14\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>import</span> <span class=pl-s1>sys</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC16\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>def</span> <span class=pl-en>main</span>():</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC17\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC18\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>sys</span>.<span class=pl-s1>argv</span>) <span class=pl-c1>&gt;</span> <span class=pl-c1>1</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC19\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-k>try</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC20\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-s1>top</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>sys</span>.<span class=pl-s1>argv</span>[<span class=pl-c1>1</span>])</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC21\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-k>except</span> <span class=pl-v>ValueError</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC22\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-en>print</span>(<span class=pl-s>&#39;argument must be a positive integer&#39;</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC23\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-k>return</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC24\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>else</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC25\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-s1>top</span> <span class=pl-c1>=</span> <span class=pl-c1>10</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC26\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC27\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>data</span> <span class=pl-c1>=</span> []</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L28\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"28\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC28\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L29\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"29\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC29\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-c># Spotify&#39;s files default names are StreamingHistory0.json, StreamingHistory1.json, ...</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L30\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"30\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC30\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>for</span> <span class=pl-s1>filename</span> <span class=pl-c1>in</span> <span class=pl-s1>os</span>.<span class=pl-en>listdir</span>(<span class=pl-s1>os</span>.<span class=pl-en>getcwd</span>()):</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L31\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"31\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC31\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-k>if</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isfile</span>(<span class=pl-s1>filename</span>) <span class=pl-c1>and</span> <span class=pl-s>&#39;StreamingHistory&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>filename</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L32\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"32\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC32\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-en>print</span>(<span class=pl-s1>filename</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L33\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"33\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC33\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>filename</span>, <span class=pl-s1>encoding</span><span class=pl-c1>=</span><span class=pl-s>&#39;utf-8&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>file</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L34\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"34\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC34\" class=\"blob-code blob-code-inner js-file-line\">                <span class=pl-s1>data</span> <span class=pl-c1>+=</span> <span class=pl-s1>json</span>.<span class=pl-en>load</span>(<span class=pl-s1>file</span>) </td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L35\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"35\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC35\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L36\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"36\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC36\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>history</span> <span class=pl-c1>=</span> {}</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L37\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"37\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC37\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L38\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"38\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC38\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>for</span> <span class=pl-s1>song</span> <span class=pl-c1>in</span> <span class=pl-s1>data</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L39\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"39\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC39\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-k>if</span> <span class=pl-s1>song</span>[<span class=pl-s>&#39;artistName&#39;</span>] <span class=pl-c1>in</span> <span class=pl-s1>history</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L40\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"40\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC40\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-k>if</span> <span class=pl-s1>song</span>[<span class=pl-s>&#39;trackName&#39;</span>] <span class=pl-c1>in</span> <span class=pl-s1>history</span>[<span class=pl-s1>song</span>[<span class=pl-s>&#39;artistName&#39;</span>]]:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L41\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"41\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC41\" class=\"blob-code blob-code-inner js-file-line\">                <span class=pl-s1>history</span>[<span class=pl-s1>song</span>[<span class=pl-s>&#39;artistName&#39;</span>]][<span class=pl-s1>song</span>[<span class=pl-s>&#39;trackName&#39;</span>]].<span class=pl-en>append</span>(<span class=pl-s1>song</span>[<span class=pl-s>&#39;endTime&#39;</span>])</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L42\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"42\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC42\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-k>else</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L43\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"43\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC43\" class=\"blob-code blob-code-inner js-file-line\">                <span class=pl-s1>history</span>[<span class=pl-s1>song</span>[<span class=pl-s>&#39;artistName&#39;</span>]][<span class=pl-s1>song</span>[<span class=pl-s>&#39;trackName&#39;</span>]] <span class=pl-c1>=</span> [ <span class=pl-s1>song</span>[<span class=pl-s>&#39;endTime&#39;</span>] ]</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L44\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"44\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC44\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-k>else</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L45\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"45\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC45\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-s1>history</span>[<span class=pl-s1>song</span>[<span class=pl-s>&#39;artistName&#39;</span>]] <span class=pl-c1>=</span> { <span class=pl-s1>song</span>[<span class=pl-s>&#39;trackName&#39;</span>]: [ <span class=pl-s1>song</span>[<span class=pl-s>&#39;endTime&#39;</span>] ] }</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L46\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"46\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC46\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>pass</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L47\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"47\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC47\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L48\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"48\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC48\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>songs_play_count</span> <span class=pl-c1>=</span> {}</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L49\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"49\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC49\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>artists_play_count</span> <span class=pl-c1>=</span> {}</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L50\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"50\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC50\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L51\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"51\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC51\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>for</span> <span class=pl-s1>artist</span> <span class=pl-c1>in</span> <span class=pl-s1>history</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L52\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"52\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC52\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-s1>artist_count</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L53\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"53\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC53\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-k>for</span> <span class=pl-s1>song</span> <span class=pl-c1>in</span> <span class=pl-s1>history</span>[<span class=pl-s1>artist</span>]:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L54\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"54\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC54\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-s1>song_count</span> <span class=pl-c1>=</span> <span class=pl-en>len</span>(<span class=pl-s1>history</span>[<span class=pl-s1>artist</span>][<span class=pl-s1>song</span>])</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L55\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"55\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC55\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-s1>songs_play_count</span>[<span class=pl-s>f&#39;<span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>artist</span><span class=pl-kos>}</span></span> - <span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>song</span><span class=pl-kos>}</span></span>&#39;</span>] <span class=pl-c1>=</span> <span class=pl-s1>song_count</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L56\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"56\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC56\" class=\"blob-code blob-code-inner js-file-line\">            <span class=pl-s1>artist_count</span> <span class=pl-c1>+=</span> <span class=pl-s1>song_count</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L57\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"57\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC57\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-s1>artists_play_count</span>[<span class=pl-s1>artist</span>] <span class=pl-c1>=</span> <span class=pl-s1>artist_count</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L58\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"58\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC58\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L59\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"59\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC59\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>artists_play_count</span> <span class=pl-c1>=</span> <span class=pl-en>sorted</span>(<span class=pl-s1>artists_play_count</span>.<span class=pl-en>items</span>(), <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>item</span>: <span class=pl-s1>item</span>[<span class=pl-c1>1</span>], <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L60\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"60\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC60\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>songs_play_count</span> <span class=pl-c1>=</span> <span class=pl-en>sorted</span>(<span class=pl-s1>songs_play_count</span>.<span class=pl-en>items</span>(), <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>item</span>: <span class=pl-s1>item</span>[<span class=pl-c1>1</span>], <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L61\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"61\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC61\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L62\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"62\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC62\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>top_x_artists</span> <span class=pl-c1>=</span> [<span class=pl-en>list</span>(<span class=pl-s1>set</span>) <span class=pl-k>for</span> <span class=pl-s1>set</span> <span class=pl-c1>in</span> <span class=pl-s1>artists_play_count</span>[:<span class=pl-s1>top</span>]]</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L63\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"63\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC63\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>top_x_songs</span> <span class=pl-c1>=</span> [<span class=pl-en>list</span>(<span class=pl-s1>set</span>) <span class=pl-k>for</span> <span class=pl-s1>set</span> <span class=pl-c1>in</span> <span class=pl-s1>songs_play_count</span>[:<span class=pl-s1>top</span>]]</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L64\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"64\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC64\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L65\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"65\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC65\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-en>print</span>(<span class=pl-s>f&#39;TOP <span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>top</span><span class=pl-kos>}</span></span> ARTISTS&#39;</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L66\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"66\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC66\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>for</span> <span class=pl-s1>index</span>, <span class=pl-s1>value</span> <span class=pl-c1>in</span> <span class=pl-en>enumerate</span>(<span class=pl-s1>top_x_artists</span>, <span class=pl-s1>start</span><span class=pl-c1>=</span><span class=pl-c1>1</span>):</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L67\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"67\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC67\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-en>print</span>(<span class=pl-s>f&#39;<span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>index</span><span class=pl-kos>}</span></span> - <span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>value</span>[<span class=pl-c1>0</span>]<span class=pl-kos>}</span></span> (x<span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>value</span>[<span class=pl-c1>1</span>]<span class=pl-kos>}</span></span>)&#39;</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L68\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"68\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC68\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L69\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"69\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC69\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-en>print</span>(<span class=pl-s>f&#39;TOP <span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>top</span><span class=pl-kos>}</span></span> SONGS&#39;</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L70\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"70\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC70\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>for</span> <span class=pl-s1>index</span>, <span class=pl-s1>value</span> <span class=pl-c1>in</span> <span class=pl-en>enumerate</span>(<span class=pl-s1>top_x_songs</span>, <span class=pl-s1>start</span><span class=pl-c1>=</span><span class=pl-c1>1</span>):</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L71\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"71\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC71\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-en>print</span>(<span class=pl-s>f&#39;<span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>index</span><span class=pl-kos>}</span></span> - <span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>value</span>[<span class=pl-c1>0</span>]<span class=pl-kos>}</span></span> (x<span class=pl-s1><span class=pl-kos>{</span><span class=pl-s1>value</span>[<span class=pl-c1>1</span>]<span class=pl-kos>}</span></span>)&#39;</span>)</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L72\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"72\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC72\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L73\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"73\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC73\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>if</span> <span class=pl-s1>__name__</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;__main__&#39;</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-spotify_top_songs_and_artists-py-L74\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"74\"></td>\n          <td id=\"file-spotify_top_songs_and_artists-py-LC74\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-en>main</span>()</td>\n        </tr>\n  </table>\n</div>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/ander94lakx/63776dacd6e986d935b9f01fff755921/raw/c1fc7973ff3343a22f5e7eefca6a0fb8ad1d9dc6/spotify_top_songs_and_artists.py\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/ander94lakx/63776dacd6e986d935b9f01fff755921#file-spotify_top_songs_and_artists-py\">\n          spotify_top_songs_and_artists.py\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>No creo que merezca la pena entrar en detalle en el código, ya que es muy sencillo y la mayoría se explica solo. Es básicamente en a función que realiza una serie de pasos que se pueden resumir en los siguientes pasos:</p>\n<ol>\n<li>Gestionar un argumento para configurar el tamaño del Top.</li>\n<li>Leer los archivos y cargar la información de los JSON en diccionarios.</li>\n<li>Realizar las cuentas sobre la información cargada.</li>\n<li>Ordenar, preparar y mostrar el top de canciones y artistas.</li>\n</ol>\n<p>Probablemente se pueda mejorar de muchas maneras. Se podría unificar la parte en la que se coge los datos con la parte en la que se calcula las reproducciones, pero quería separarlo para que fuera más sencillo de entender. Por otro lado, mi Python no es perfecto y alguna cosa con los sets (y otras muchas cosas más) seguro que se pueden hacer mejor.</p>\n<h2>Conclusiones</h2>\n<p>Tener los datos que generas en una aplicación te permite sacar mucha información. Las aplicaciones y servicios lo saben y utilizan esos datos para sacar información para beneficiarse. Que menos que, ya que ellos tratan la información de sus usuarios, que dejen hacer lo mismo a sus propios usuarios.</p>\n<p>Ello, además, permite extender las capacidades que dan las propias aplicaciones. En el caso de Spotify, uno mismo podría hacer un análisis sobre la música que escucha, cómo la escucha o como ha ido cambiando en el tiempo, cosa que Spotify no ofrece a los usuarios. En el caso de otras aplicaciones se puede hacer mas de lo mismo. El hecho de poder obtener tu propia información es un primer paso para poder tratarla a tu manera.</p>\n<p>Seguro que hay mil ejemplos de casos interesantes en los que se puede usar este tipo de información que generan las aplicaciones. Si estás leyendo esto, te invito a que te descargues tu información de las aplicaciones que usas, le eches un vistazo y pienses en que usos interesantes puedes darle. La información es poder y que menos que que los usuarios podamos tener también ese poder.</p>\n<p>¡No paréis de descargaros lo que os pertenece!</p>\n<p>Happy hacking!</p>","frontmatter":{"title":"Cómo sacar tu Top de canciones (o la información que sea) de tu cuenta de Spotify","date":"February 13, 2022","description":null,"template":"post"}}},"pageContext":{"slug":"/blog/2022-02-13-spotify-data-top-songs/","previous":{"node":{"fields":{"slug":"/blog/2022-02-05-bot-telegram-buscar-piso/"},"frontmatter":{"date":"05 February, 2022","title":"Cómo automatizar la búsqueda de piso con un bot de Telegram","template":"post"}}},"next":null}},"staticQueryHashes":["2841359383","3810545343","916993862"]}